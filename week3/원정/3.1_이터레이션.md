# 3.1 이터레이션

이터레이터 패턴에는 처리할 데이터를 참조하는 데이터 구조인 이터레이터가 정의된다. 이터레이터는 next()라는 메서드를 지원하며, next()를 호출할 떄마다 record나 row 같은 데이터 조각이 차례대로 반환된다.

작업을 반복할 때, 데이터가 총 몇 개의 조각으로 이루어져 있는지 사전에 알기 쉽지 않다. 따라서 이터레이터 패턴에서는 데이터를 전부 처리했음에도 불구하고 또 다른 작업을 시작할 때 특별한 값을 사용하거나 예외를 발생시켜 반복 작업이 종료되었다는 신호를 준다.

이터레이터 패턴의 핵심은 반복 작업으로 데이터를 처리할 때 표준화된 방법을 제공한다는 점이다.

ES6 명세서에는 JS 내장 문법을 통해 이터레이터 패턴을 구현하는 구체적인 프로토콜이 추가되었다. 이 프로토콜에서 next()메서드는 iterator result라 불리는 객체를 반환하고, iterator result 객체에는 value와 done이라는 프로퍼티가 있어야 한다고 규정한다. 또한 반복 작업이 끝나지 않은 경우 done에는 불리언 값 false가 저장되어야 한다고 정의한다.