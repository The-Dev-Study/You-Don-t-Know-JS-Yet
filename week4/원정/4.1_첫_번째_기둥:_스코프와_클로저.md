# 4.1 첫 번째 기둥: 스코프와 클로저

함수나 블록 단위로 변수의 스코프(유효범위)를 한정 짓는 것은 모든 프로그래밍 언어의 근본적인 특징이다. 

스코프는 양동이, 변수는 양동이에 넣을 구슬에 비유할 수 있다. 이때 언어 고유의 스코프 모델은 구슬과 같은 색을 가진 양동이를 찾도록 도와주는 규칙이다.

스코프 안에는 다른 스코프가 올 수 있다. 이렇게 스코프가 중첩될 때 표현식이나 statement는 해당 레벨의 스코프 혹은 더 높거나 바깥 레벨에 있는 변수에만 접근할 수 있고, 낮거나 안쪽 레벨 스코프에 있는 숨겨진 변수에는 접근할 수 없다.

대부분의 프로그래밍 언어는 이런 작동 방식을 취하며 이를 렉시컬 스코프(어휘 스코프)라고 부른다. 스코프의 기준과 그 경계 경계 안에서 변수가 어떻게 구성되는지는 프로그램을 파싱할 때 결정된다.

JS는 렉시컬 스코프 모델을 채택하고 있긴 하지만, 같은 모델을 사용하는 여타 언어들과는 다른 두 가지 특징을 갖는다.

JS만의 독특한 특징 첫 번째는 호이스팅이다. 특정 스코프 내에 선언한 변수가 선언된 위치와 상관없이 해당 스코프 시작 부분에서 선언한 것 마냥 (끌어올려진 것처럼) 처리되어 호이스팅이란 이름이 붙었다.

두 번째 특징은 var를 사용해 선언한 변수는 해당 변수를 선언한 블록 위치와 상관없이 함수 기준으로 스코프가 만들어진다는 점이다.

클로저는 JS 같이 함수를 일급값으로 취급하는 언어에서 렉시컬 스코프 모델을 사용하면 자연스레 나타나는 결과이다. 바깥 스코프에 있는 변수를 참조하는 함수가 있고, 이 함수가 변수를 통해 별개의 스코프에서 실행될 때, 함수는 함수가 정의된 스코프를 기준으로 변수를 참조한다. 이게 바로 클로저이다.
