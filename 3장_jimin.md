# 3. 자바스크립트 뿌리 파헤치기

# 3.1 이터레이션(Iteration pattern)

💡 목적  
: `데이터 전체를 한 번에 처리하는 대신`, 데이터를 `일정 단위로 쪼개어` 이 조각들을 `차례대로(순회하며)` `점진적으로 처리`하는 아이디어에서 출발  
- 대용량 데이터나 크기를 알 수 없는 데이터 컬렉션을 처리할 때, `표준화된 방법`을 제공하여 반복 작업을 `범용적`이고 `효율적`으로 수행하도록 도움  
- 질의 결과가 수백, 수천 줄 이상이 될 때처럼, 데이터를 루프 등을 사용해 반복적으로 처리해야 할 필요성이 있을 때 사용  


💡 구성 요소 및 동작 방식  
: 이터레이터 패턴의 핵심은 데이터에 접근하고 처리하는 방법을 표준화하는 것  

- `이터레이터(Iterator)`: 처리할 데이터를 참조하는 `데이터 구조`  
- `next() 메서드`
    - 이터레이터가 지원하는 핵심 메서드
    - 이 메서드를 호출할 때마다 데이터의 **다음 조각(레코드, 줄 등)**이 차례대로 반환  
- `반복 작업 종료 신호`:
    - 데이터 조각의 개수를 사전에 알기 어려운 경우, 이터레이터는 데이터를 `전부 처리했을 때` 다음 작업이 없음을 알리는 `특별한 값`을 사용하거나 `예외를 발생`시켜 반복 작업이 종료되었음을 알림  

💡 자바스크립트에서의 이터레이터 프로토콜 (ES6)  
ES6 명세서에는 자바스크립트 내장 문법을 통해 이터레이터 패턴을 구현하기 위한 `구체적인 프로토콜(규약)`이 추가  

- `next() 메서드의 반환 값`
    - `next()`는 반드시 `이터레이터 결과 객체(iterator result)`를 반환
- `이터레이터 결과 객체의 프로퍼티`
    - `value`: 반환된 데이터의 실제 조각
    - `done`: 반복 작업의 완료 여부를 나타내는 `불리언 값`
        - 반복 작업이 끝나지 않은 경우: `done`은 false
        - 반복 작업이 종료된 경우: `done`은 true

➡️ 이터레이션 패턴은 `다양한 형태의 데이터 컬렉션`을 `동일하고 예측 가능한 방식`으로 순회하고 처리할 수 있게 해줌으로써, 코드를 `깔끔하고 이해하기 쉽게` 만들어 줌
